(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-805a"],{Eohe:function(e,t,r){"use strict";var a=r("GHMW");r.n(a).a},GHMW:function(e,t,r){},HDHf:function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"f",function(){return s}),r.d(t,"i",function(){return c}),r.d(t,"l",function(){return u}),r.d(t,"k",function(){return l}),r.d(t,"j",function(){return p}),r.d(t,"b",function(){return d}),r.d(t,"h",function(){return m}),r.d(t,"e",function(){return f}),r.d(t,"c",function(){return g});var a=r("t3Un");function n(e){return Object(a.a)({url:"/dataSet/detailBysetId/"+e.id,method:"get"})}function i(e){return Object(a.a)({url:"/dataSet",method:"post",data:e})}function o(e){return Object(a.a)({url:"/dataSet",method:"put",data:e})}function s(e){return Object(a.a)({url:"/dataSet/"+e.id,method:"delete",data:e})}function c(e){return Object(a.a)({url:"/dataSource/queryAllDataSource",method:"get",data:e})}function u(e){return Object(a.a)({url:"/dataSetParam/verification",method:"post",data:e})}function l(e){return Object(a.a)({url:"/dataSet/testTransform",method:"post",data:e})}function p(e){return Object(a.a)({url:"/report/pageList",method:"get",params:e})}function d(e){return Object(a.a)({url:"/report",method:"post",data:e})}function m(e){return Object(a.a)({url:"/report",method:"put",data:e})}function f(e){return Object(a.a)({url:"/report/delReport",method:"delete",data:e})}function g(e){return Object(a.a)({url:"/dataSet/pageList?page="+e.page+"&size="+e.size+"&sort="+e.sort+"&order="+e.order+"&pageNumber="+e.pageNumber+"&pageSize="+e.pageSize,method:"GET",data:e})}},T22U:function(e,t,r){"use strict";var a=r("14Xm"),n=r.n(a),i=r("D3Ub"),o=r.n(i),s={props:{visib:{required:!0,type:Boolean,default:!1},reportCode:{required:!0,type:String,default:function(){return""}}},data:function(){return{}},watch:{visib:function(e){}},created:function(){},methods:{saveReportShare:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:({}),e.closeDialog();case 2:case"end":return t.stop()}},t,e)}))()},closeDialog:function(){this.$emit("handleClose")}}},c=r("KHd+"),u=Object(c.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"tree_dialog",attrs:{title:"报表分享",width:"60%","close-on-click-modal":!1,center:"",visible:e.visib,"before-close":e.closeDialog},on:{"update:visible":function(t){e.visib=t}}},[r("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[e._v("\n    "+e._s(e.reportCode)+"\n    "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:e.saveReportShare}},[e._v("保存")]),e._v(" "),r("el-button",{attrs:{type:"danger",plain:""},on:{click:e.closeDialog}},[e._v("取消")])],1)])},[],!1,null,null,null);u.options.__file="share.vue";t.a=u.exports},"fNM/":function(e,t,r){"use strict";r.r(t);var a=r("14Xm"),n=r.n(a),i=r("D3Ub"),o=r.n(i),s=r("T22U"),c=r("HDHf"),u={name:"Login",components:{Share:s.a},data:function(){return{list:[],rules:{},totalCount:0,totalPage:0,params:{reportCode:"",reportName:"",pageNumber:1,pageSize:8,order:"DESC",sort:"update_time"},visibleForShareDialog:!1,reportCodeForShareDialog:""}},mounted:function(){},created:function(){this.queryByPage()},methods:{search:function(){this.params.pageNumber=1,this.queryByPage()},reset:function(e){this.$refs[e].resetFields(),this.params.reportName="",this.params.reportCode="",this.params.pageNumber=1,this.queryByPage()},queryByPage:function(){var e=this;return o()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.j)(e.params);case 2:if("200"==(r=t.sent).code){t.next=5;break}return t.abrupt("return");case 5:e.listLoading=!0,e.list=r.data.records,e.list.forEach(function(e){e.reportNameCode=e.reportName+"["+e.reportCode+"]"}),e.totalCount=r.data.total,e.totalPage=r.data.pages,e.listLoading=!1;case 11:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.params.pageSize=e,this.queryByPage()},handleCurrentChange:function(e){this.params.pageNumber=e,this.queryByPage()},share:function(e){this.reportCodeForShareDialog=e.reportCode,this.visibleForShareDialog=!0},openDesign:function(e){var t=this.$router.resolve({path:"/bigscreen/designer",query:{reportCode:e.reportCode,reportId:e.id,accessKey:e.accessKey}});window.open(t.href,"_blank")},viewDesign:function(e){var t=this.$router.resolve({path:"/bigscreen/viewer",query:{reportCode:e.reportCode}});window.open(t.href,"_blank")}}},l=(r("Eohe"),r("KHd+")),p=Object(l.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-layout"},[a("el-form",{ref:"form",attrs:{model:e.params,rules:e.rules,"label-width":"120px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:20,md:12,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{staticClass:"filter-item",attrs:{size:"mini",clearable:"",placeholder:"名称"},model:{value:e.params.reportName,callback:function(t){e.$set(e.params,"reportName",t)},expression:"params.reportName"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:20,md:12,lg:6,xl:4}},[a("el-form-item",{attrs:{label:"报表编码"}},[a("el-input",{staticClass:"filter-item",attrs:{size:"mini",clearable:"",placeholder:"报表编码"},model:{value:e.params.reportCode,callback:function(t){e.$set(e.params,"reportCode",t)},expression:"params.reportCode"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"},attrs:{xs:24,sm:20,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.search("form")}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.reset("form")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},e._l(e.list,function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("div",{staticClass:"bg"},[a("img",{staticClass:"bg-img",attrs:{src:null==t.reportImage||""==t.reportImage?r("fy9d"):t.reportImage,alt:""}}),e._v(" "),a("div",{staticClass:"content"},[a("header",[e._v(e._s(t.reportName))]),e._v(" "),a("footer",[e._v("\n            "+e._s(t.updateTime)+"\n            "),a("div",{staticClass:"operation"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"bigScreenManage:share",expression:"'bigScreenManage:share'"}],staticClass:"view",attrs:{icon:"el-icon-share",type:"text"},on:{click:function(r){return e.share(t)}}}),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"bigScreenManage:view",expression:"'bigScreenManage:view'"}],staticClass:"view",attrs:{icon:"el-icon-view",type:"text"},on:{click:function(r){return e.viewDesign(t)}}}),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"bigScreenManage:design",expression:"'bigScreenManage:design'"}],staticClass:"edit",attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(r){return e.openDesign(t)}}})],1)])])])])}),1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{total:e.totalCount,"page-sizes":[8,20,50,100],"page-size":e.params.pageSize,"current-page":e.params.pageNumber,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("Share",{attrs:{visib:e.visibleForShareDialog,reportCode:e.reportCodeForShareDialog},on:{handleClose:function(t){e.visibleForShareDialog=!1}}})],1)},[],!1,null,"1f589c06",null);p.options.__file="index.vue";t.default=p.exports},fy9d:function(e,t,r){e.exports=r.p+"static/img/charts.47700dc.jpg"}}]);